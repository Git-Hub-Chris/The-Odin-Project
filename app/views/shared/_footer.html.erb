<footer id="footer">

  <div class="footer-links">
    <%= link_to "Blog", "http://1000hours.io" %>
    <%= link_to "About", about_path %>
    <%= link_to "FAQ", faq_path %>
    <%= link_to "Study Groups", studygroup_path %>
    <%= link_to "Contributing", contributing_path %>
    <br>
    <%= link_to "Contact", contact_path %>
    <%= link_to "Press", press_path %>
    <%= link_to "Legal", legal_path %>
    <%= link_to "Sitemap", sitemap_path %>
  </div>
  <div class="footer-form">
    <form id="footer-suggestion-form" class="form-inline" action="<%= suggestion_path %>" method="post" data-remote="true">

      <input type="hidden" name="pathname" value="" id="suggestion-pathname">

      <input type="text" name="suggestion" id="feedback-text-box" class="input-large" placeholder="What can we do to improve this site?">

      <button type="submit" class="btn" id="suggestion-button">
        Tell Us!
      </button>

    </form>
  </div>

</footer>

<script>
  // After form submission, gray out and disable the form
  $(document).ready(function(){
    $("#footer-suggestion-form").bind("ajax:complete", function(event, xhr, status){
      //console.log($("#footer-suggestion-form input"));
      $("#footer-suggestion-form input").attr("disabled","disabled");
      $("#footer-suggestion-form button").attr("disabled","disabled").html("Thanks!");
      //console.log("did it!");
    });
    $("#suggestion-pathname").val(location.pathname);
    // display a tooltip above social icon buttons with their description
    $("[rel=tooltip]").tooltip({ placement: 'top'});

    $('#facebook').click(function(){
      // grab url to be shared
      // will NOT work in a dev environment
      // localhost, 0.0.0.0:3000 or any other variation will not work
      // must fake local host to be http://www.theodinproject/com/lesson...
      var url = document.URL;

      elem = $(this);

      // note: lesson title, description and image are gathered from meta tags in the
      // _header partial
      postToFeed(elem.data('title'), elem.data('desc'), url, elem.prop(url));

      return false;
    });
  });
</script>
