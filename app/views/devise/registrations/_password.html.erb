<div class="settings-section">
  <div class="settings-card card-main">

    <h2 class="accent settings-card__heading text-2xl">Password</h2>
    <div class="settings-card__edit-button settings-card__edit-button--open" data-test-id='edit-password'></div>

    <div class="settings-card__content">
      <div class="settings-view">
        <p class="form__element--non-editable">******</p>
      </div>

      <%= form_for user,
        html: { class: 'form settings-view--hidden', id: 'password-update-form' },
        remote: true,
        data: {controller: 'form-validation', action: 'submit->form-validation#validateAll'} do |form|
      %>

        <div class="form-field mb-4">
          <div class="form__section mb-0">
            <%= form.label :current_password, class: 'form__label' %>
            <%= form.password_field :current_password,
              placeholder: 'Current Password',
              required: true,
              class: 'form__element'
            %>
          </div>
        </div>

        <div class="form-field mb-4">
          <div class="form__section mb-0">
            <%= form.label :password, class: 'form__label' %>
            <%= form.password_field :password,
              placeholder: 'New Password',
              required: true,
              minlength: 4,
              class: 'form__element',
              data: {test_id: 'password_field', attr: 'form-validation.password', action: 'blur->form-validation#validate'}
            %>
          </div>
          <div class="form__error-message user_password mt-2"></div>
        </div>

        <div class="form-field mb-4">
          <div class="form__section mb-0">
            <%= form.label :password_confirmation, class: 'form__label' %>
            <%= form.password_field :password_confirmation,
              placeholder: 'Confirm New Password',
              required: true,
              minlength: 4,
              class: 'form__element',
              data: {test_id: 'password_field_confirm', attr: 'form-validation.password_confirmation', action: 'blur->form-validation#validate'}
            %>
          </div>
          <div class="form__error-message user_password_confirmation mt-2"></div>
        </div>

        <%= form.submit 'Update', class: 'button button--primary full-width' %>
      <% end %>
    </div>
  </div>
</div>
